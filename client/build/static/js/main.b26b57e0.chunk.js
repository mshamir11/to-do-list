(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),o=n(26),a=n.n(o),r=(n(35),n(4)),i=n(9),d=n.n(i),l=n(0),u=function(e){var t=e.renderSignup,n=c.a.useState(""),s=Object(r.a)(n,2),o=s[0],a=s[1],i=c.a.useState(""),u=Object(r.a)(i,2),j=u[0],b=u[1];return Object(l.jsxs)("div",{style:{height:"300px"},children:[Object(l.jsx)("h1",{className:"text-center text-indigo-500 font-bold",children:"login"}),Object(l.jsxs)("div",{className:"mb-4",children:[Object(l.jsx)("label",{children:"username"}),Object(l.jsx)("input",{onChange:function(e){return a(e.target.value)},className:"w-full px-3 py-2 border border-gray-400 rounded-md",type:"text",placeholder:"username"})]}),Object(l.jsxs)("div",{className:"mb-4",children:[Object(l.jsx)("label",{children:"password"}),Object(l.jsx)("input",{onChange:function(e){return b(e.target.value)},className:"w-full px-3 py-2 border border-gray-400 rounded-md",type:"password",placeholder:"password"})]}),Object(l.jsxs)("div",{className:"flex justify-between items-center",children:[Object(l.jsx)("div",{children:Object(l.jsxs)("p",{children:["No account? ",Object(l.jsx)("span",{className:"text-indigo-500 cursor-pointer",onClick:t,children:"Signup"})]})}),Object(l.jsx)("button",{className:"rounded-lg px-6 py-3 font-bold bg-indigo-500 text-white",onClick:function(){d.a.post("/login",{username:o,password:j}).then((function(e){if(200===e.status){var t=e.data.token;localStorage.setItem("token",t),window.location.href="/dashboard"}}))},children:"Login"})]})]})},j=function(e){var t=e.renderLogin,n=c.a.useState(""),s=Object(r.a)(n,2),o=s[0],a=s[1],i=c.a.useState(""),u=Object(r.a)(i,2),j=u[0],b=u[1],x=c.a.useState(""),p=Object(r.a)(x,2),h=p[0],m=p[1],g=c.a.useState(!1),f=Object(r.a)(g,2),O=f[0],v=f[1];return c.a.useEffect((function(){v(j!==h)}),[j,h]),Object(l.jsxs)("div",{style:{height:"300px"},children:[Object(l.jsx)("h1",{className:"text-center text-indigo-500 font-bold",children:"signup"}),Object(l.jsxs)("div",{className:"mb-4",children:[Object(l.jsx)("label",{children:"username"}),Object(l.jsx)("input",{onChange:function(e){return a(e.target.value)},className:"w-full px-3 py-2 border border-gray-400 rounded-md",type:"text",placeholder:"username"})]}),Object(l.jsxs)("div",{className:"mb-4",children:[Object(l.jsx)("label",{children:"password"}),Object(l.jsx)("input",{onChange:function(e){return b(e.target.value)},className:"w-full px-3 py-2 border border-gray-400 rounded-md",type:"password",placeholder:"password"})]}),Object(l.jsxs)("div",{className:"mb-4",children:[Object(l.jsx)("label",{children:"confirm password"}),Object(l.jsx)("input",{onChange:function(e){return m(e.target.value)},className:"w-full px-3 py-2 border border-gray-400 rounded-md",type:"password",placeholder:"password"})]}),Object(l.jsxs)("div",{className:"flex justify-between items-center",children:[Object(l.jsx)("div",{children:Object(l.jsxs)("p",{children:["Already a member? ",Object(l.jsx)("span",{className:"text-indigo-500 cursor-pointer",onClick:t,children:"Login"})]})}),Object(l.jsx)("button",{className:"rounded-lg px-6 py-3 font-bold text-white ".concat(O?"bg-gray-400":"bg-indigo-500"),disabled:O,onClick:function(){d.a.post("/signup",{username:o,password:j}).then((function(e){return console.log(e)}))},children:"Signup"})]})]})},b=function(){var e=c.a.useState(!1),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(l.jsxs)("div",{className:"flex w-full h-screen",children:[Object(l.jsx)("div",{className:"w-1/2 max-w-xs mx-auto relative",children:Object(l.jsx)("div",{className:"absolute inset-0 m-auto",style:{height:"300px"},children:n&&Object(l.jsx)(j,{renderLogin:function(){return s(!1)}})||Object(l.jsx)(u,{renderSignup:function(){return s(!0)}})})}),Object(l.jsx)("div",{className:"w-1/2 bg-indigo-500"})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),o(e),a(e)}))},p=n(27),h=n(2),m=n(30),g=function(e){return function(t){return localStorage.getItem("token")||(window.location.href="/"),Object(l.jsx)(e,Object(m.a)({},t))}},f=function(){return Object(l.jsx)("p",{onClick:function(){localStorage.removeItem("token"),window.location.href="/"},className:"cursor-pointer",children:"Logout"})},O=function(){return Object(l.jsxs)("div",{className:"flex justify-between bg-indigo-500 p-8 text-white",children:[Object(l.jsx)("p",{className:"font-bold text-lg",children:"Mern TODO"}),Object(l.jsx)(f,{})]})},v=n(29),w=function(e){var t=e.todos,n=e.setTodos,s=c.a.useState(""),o=Object(r.a)(s,2),a=o[0],i=o[1];return Object(l.jsxs)("div",{className:"flex justify-between mb-8",children:[Object(l.jsx)("input",{className:"w-full px-3 py-2 border border-indigo-500 rounded-md mr-4",type:"text",onChange:function(e){return i(e.target.value)},value:a}),Object(l.jsx)("input",{type:"button",className:"py-2 px-5 bg-indigo-500 text-white rounded-md cursor-pointer",value:"Add",onClick:function(){a.length>0&&d.a.post("/todo",{title:a},{headers:{token:localStorage.getItem("token")}}).then((function(e){if(200===e.status){var s=e.data.todo;n([].concat(Object(v.a)(t),[s])),i("")}}))}})]})},y=function(e){var t=e.todos,n=e.setTodos;return Object(l.jsx)(l.Fragment,{children:t.filter((function(e){return!e.isCompleted})).map((function(e){return Object(l.jsxs)("div",{className:"border border-gray-400 p-4 rounded-md mb-4 flex justify-between items-center",children:[e.title,Object(l.jsx)("input",{type:"button",className:"py-2 px-3 bg-indigo-500 text-white rounded-md cursor-pointer",value:"DONE",onClick:function(){return function(e){d.a.put("/todo/".concat(e._id),{},{headers:{token:localStorage.getItem("token")}}).then((function(e){200===e.status&&n(t.filter((function(t){return e.data.todo._id!==t._id})))}))}(e)}})]},e._id)}))})},N=function(){var e=c.a.useState([]),t=Object(r.a)(e,2),n=t[0],s=t[1];return c.a.useEffect((function(){d.a.get("/todos",{headers:{token:localStorage.getItem("token")}}).then((function(e){200===e.status&&s(e.data.todos)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(O,{}),Object(l.jsxs)("div",{className:"max-w-md mx-auto pt-12",children:[Object(l.jsx)("h1",{className:"font-bold text-indigo-500 text-center text-xl mb-12",children:"my todos dashboard"}),Object(l.jsx)(w,{todos:n,setTodos:s}),Object(l.jsx)(y,{todos:n,setTodos:s})]})]})};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsxs)(p.a,{children:[Object(l.jsx)(h.a,{path:"/",component:b,exact:!0}),Object(l.jsx)(h.a,{path:"/dashboard",component:g(N)})]})}),document.getElementById("root")),x()}},[[63,1,2]]]);
//# sourceMappingURL=main.b26b57e0.chunk.js.map